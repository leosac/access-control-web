<div>
    <div class="col-md-6">
      {{#bs-form-element label="Alias"}}
        {{input type='text' value=(mut mapping.alias) class='form-control'}}
      {{/bs-form-element}}
    </div>
    <div class="col-md-6">
      {{bs-button icon='glyphicon glyphicon-remove' type='danger'
                  defaultText='Delete mapping'
                  action=(route-action 'removeMapping' mapping)}}
    </div>
</div>

<div class="col-md-12">
    <h3>Users</h3>
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
            <th>#Id</th>
            <th>Username</th>
            <th>Remove from mapping</th>
            </thead>
            <tbody>
            {{#each mapping.users as |user|}}
                <tr>
                    <td>
                      {{#link-to 'profile' user.id}}
                        {{user.id}}
                      {{/link-to}}
                    </td>
                    <td>{{user.username}}</td>
                    <td>
                      {{bs-button size='xs' icon='glyphicon glyphicon-remove' type='danger'
                                  defaultText='Remove' action=(action 'removeUser' user)}}
                    </td>
                </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
    <div class="row">
        <div class="col-md-6">
          {{user-picker selected=newUser onChange=(action (mut newUser))}}
        </div>
        <div class="col-md-6">
          {{bs-button type="primary" action="addUser" defaultText='Add user'}}
        </div>
    </div>
</div>

<hr>

<div class="col-md-12">
    <h3>Groups</h3>
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
            <th>#Id</th>
            <th>Name</th>
            </thead>
            <tbody>
            {{#each mapping.groups as |group|}}
                <tr>
                    <td>
                      {{#link-to 'group' group.id}}
                        {{group.id}}
                      {{/link-to}}
                    </td>
                    <td>{{group.name}}</td>
                </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</div>

<hr>

<div class="col-md-12">
    <h3>Credentials</h3>
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
            <th>#Id</th>
            <th>Type</th>
            <th>Alias</th>
            </thead>
            <tbody>
            {{#each mapping.credentials as |cred|}}
                <tr>
                    <td>
                      {{link-to-credential credential=cred text=cred.id}}
                    </td>
                    <td>{{cred.type}}</td>
                    <td>{{cred.alias}}</td>
                </tr>
            {{/each}}
            </tbody>
        </table>
    </div>
</div>
